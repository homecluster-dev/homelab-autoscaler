apiVersion: infra.homecluster.dev/v1alpha1
kind: Group
metadata:
  name: unhealthy-group
  namespace: homelab-autoscaler-system
spec:
  name: unhealthy-group
  maxSize: 10
  nodeSelector:
    test: unhealthy
  pricing:
    hourlyRate: "1.00"
    monthlyRate: "500.00"
  nodesSpecs:
    - startupPodSpec:
        image: busybox:latest
        command:
          - /bin/sh
        args:
          - -c
          - echo startup
      shutdownPodSpec:
        image: busybox:latest
        command:
          - /bin/sh
        args:
          - -c
          - exit -1
      healthcheckPodSpec:
        image: busybox:latest
        command:
          - /bin/sh
        args:
          - -c
          - exit 1
      healthcheckPeriod: 1
      kubernetesNodeName: unhealthy-node