apiVersion: infra.homecluster.dev/v1alpha1
kind: Group
metadata:
  name: group1
  namespace: homelab-autoscaler-system
spec:
  name: group1
  maxSize: 5
  nodeSelector:
    node-role.kubernetes.io/worker: "true"
  pricing:
    hourlyRate: "0.50"
    monthlyRate: "300.00"
  startupPodSpec:
    image: busybox:latest
    command:
      - /bin/sh
    args:
      - -c
      - echo "Starting up group1"
  shutdownPodSpec:
    image: busybox:latest
    command:
      - /bin/sh
    args:
      - -c
      - echo "Shutting down group1"
  healthcheckPodSpec:
    image: busybox:latest
    command:
      - /bin/sh
    args:
      - -c
      - echo "Health check for group1"
  healthcheckPeriod: 1
  kubernetesNodeName: worker-node-1